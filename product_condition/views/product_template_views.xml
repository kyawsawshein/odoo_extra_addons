<?xml version="1.0" encoding="UTF-8"?>
<odoo>

    <record id="product_template_form_view" model="ir.ui.view">
        <field name="name">product.template.common.form.inherit.product_condition</field>
        <field name="model">product.template</field>
        <field name="inherit_id" ref="product.product_template_form_view"/>
        <field name="arch" type="xml">
            <xpath expr="//page[@name='inventory']" position="after">
                <page string="Extra" name="feed_extra">
                    <group name="feed_extra">
                        <group string="Additional" name="feed_additional">
                            <field name="product_grade" invisible="product_variant_count &gt; 1 or type == 'service'"/>
                        </group>
                    </group>
                </page>
            </xpath>
        </field>
    </record>

    <record id="product_template_tree_view" model="ir.ui.view">
        <field name="name">product.template.product.list.inherit.product_condition</field>
        <field name="model">product.template</field>
        <field name="inherit_id" ref="product.product_template_tree_view"/>
        <field name="arch" type="xml">
            <xpath expr="//field[@name='default_code']" position="after">
                <field name="product_grade" optional="hide"/>
            </xpath>
        </field>
    </record>

    <record id="product_template_search_view" model="ir.ui.view">
        <field name="name">product.template.search.inherit.product_condition</field>
        <field name="model">product.template</field>
        <field name="inherit_id" ref="product.product_template_search_view"/>
        <field name="arch" type="xml">
            <xpath expr="//group" position="inside">
                <filter string="Condition" name="product_grade" context="{'group_by': 'product_grade'}"/>
            </xpath>
        </field>
    </record>

</odoo>
